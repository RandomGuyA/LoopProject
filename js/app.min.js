function update(a){var b=new Date;fps=1e3/(b-lastLoop),lastLoop=b}function render(){context.clearRect(0,0,canvas.width,canvas.height),context.fillStyle="#069",context.fillRect(mouse.x,mouse.y,100,100),context.fillText("FPS: "+fps,10,20),context.fillText("("+mouse.x+" , "+mouse.y+")",10,40)}function main(){update((Date.now()-then)/1e3),game.images==game.imagesLoaded&&render(),then=Date.now()}function init(){setInterval(main,FRAME_INTERVAL)}var canvas=$("#canvas")[0],context=canvas.getContext("2d"),FRAME_INTERVAL=10,game={images:0,imagesLoaded:0},mouse={x:0,y:0,down:!1},fps=60,lastLoop=new Date,then=Date.now();canvas.addEventListener("mousedown",function(a){mouse.down=!0}),canvas.addEventListener("mouseup",function(a){mouse.down=!1}),canvas.addEventListener("mousemove",function(a){var b=canvas.getBoundingClientRect();mouse.y=a.clientY-b.top,mouse.x=a.clientX-b.left}),init();