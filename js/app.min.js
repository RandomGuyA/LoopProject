function update(){}function draw(){canvas.clearRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),board.draw(),canvas.fillStyle="#000",canvas.fillText("FPS: "+FPS,10,20),canvas.fillText("("+mouse.x+" , "+mouse.y+")",10,40)}function Tile(a,b,c,d){this.width=c,this.height=d,this.draw=function(){canvas.rect(a,b,c,d),canvas.stroke()}}function Board(a,b,c){this.countX=a,this.countY=b,this.tiles=function(){for(var a=[],b=0;b<this.countY;b++)for(var d=0;d<this.countX;d++){var e=d*c,f=b*c;a.push(new Tile(e,f,c,c))}return a},this.draw=function(){this.tiles().forEach(function(a){a.draw()})}}var CANVAS_WIDTH=800,CANVAS_HEIGHT=600,FPS=60,canvasElement=$("<canvas id='canvas' width='"+CANVAS_WIDTH+"' height='"+CANVAS_HEIGHT+"'></canvas>"),canvas=canvasElement.get(0).getContext("2d");canvasElement.appendTo("body"),canvasElement=$("#canvas")[0];var mouse={x:0,y:0,down:!1},GameLoop=function(a,b){b=b||60;var c,d,e,f,g=(new Date).getTime(),h=0;return function i(j){requestAnimationFrame(i),e=1e3/(this.fps||b),c=(new Date).getTime(),d=c-g,d>e&&(g=c-d%e,f=1e3/(j-h),h=j,update(),draw(),a(f))}(0)};GameLoop(function(a){FPS=Math.floor(a)},FPS);var board=new Board(12,6,30),tile=board.tiles();canvasElement.addEventListener("mousedown",function(a){mouse.down=!0}),canvasElement.addEventListener("mouseup",function(a){mouse.down=!1}),canvasElement.addEventListener("mousemove",function(a){var b=canvasElement.getBoundingClientRect();mouse.y=a.clientY-b.top,mouse.x=a.clientX-b.left});